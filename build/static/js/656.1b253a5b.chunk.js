"use strict";(self.webpackChunkpartimetracker=self.webpackChunkpartimetracker||[]).push([[656],{585:(e,a,t)=>{t.d(a,{o:()=>i});var r=t(5043),s=t(921),n=t(579);const l=r.forwardRef(((e,a)=>{let{className:t,type:r,...l}=e;return(0,n.jsx)("input",{type:r,className:(0,s.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:a,...l})}));l.displayName="Input";const i=e=>{let{form:a,field:t,...r}=e;const{name:s,value:i=""}=t,{handleChange:o,handleBlur:c}=a,{label:d,required:u,multiline:m,placeholder:p,type:f,size:h="small",fullWidth:b=!0,helperText:y,error:v,className:x,disabled:g,inputProps:w}=r;return(0,n.jsx)(l,{id:s,name:s,value:i,label:d,error:!!v,className:x,helperText:v||y,required:u,multiline:m,rows:m&&3,placeholder:p,type:f,fullWidth:b,disabled:g,variant:"outlined",onChange:o,onBlur:c,InputProps:w})}},1438:(e,a,t)=>{t.d(a,{J:()=>c});var r=t(5043),s=t(2367),n=t(435),l=t(921),i=t(579);const o=(0,n.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=r.forwardRef(((e,a)=>{let{className:t,...r}=e;return(0,i.jsx)(s.b,{ref:a,className:(0,l.cn)(o(),t),...r})}));c.displayName=s.b.displayName},3656:(e,a,t)=>{t.r(a),t.d(a,{default:()=>W});var r=t(5043),s=t(1438),n=t(5650),l=t(5475),i=t(3892),o=t(899),c=t(585),d=t(8168),u=t(2814),m=t(1862),p=t(858),f=t(3642),h=t(3168),b=t(3124),y=t(2894),v=t(7920);const x="Checkbox",[g,w]=(0,m.A)(x),[k,j]=g(x),N=(0,r.forwardRef)(((e,a)=>{const{__scopeCheckbox:t,name:s,checked:n,defaultChecked:l,required:i,disabled:o,value:c="on",onCheckedChange:m,...h}=e,[b,y]=(0,r.useState)(null),x=(0,u.s)(a,(e=>y(e))),g=(0,r.useRef)(!1),w=!b||Boolean(b.closest("form")),[j=!1,N]=(0,f.i)({prop:n,defaultProp:l,onChange:m}),E=(0,r.useRef)(j);return(0,r.useEffect)((()=>{const e=null===b||void 0===b?void 0:b.form;if(e){const a=()=>N(E.current);return e.addEventListener("reset",a),()=>e.removeEventListener("reset",a)}}),[b,N]),(0,r.createElement)(k,{scope:t,state:j,disabled:o},(0,r.createElement)(v.sG.button,(0,d.A)({type:"button",role:"checkbox","aria-checked":R(j)?"mixed":j,"aria-required":i,"data-state":P(j),"data-disabled":o?"":void 0,disabled:o,value:c},h,{ref:x,onKeyDown:(0,p.m)(e.onKeyDown,(e=>{"Enter"===e.key&&e.preventDefault()})),onClick:(0,p.m)(e.onClick,(e=>{N((e=>!!R(e)||!e)),w&&(g.current=e.isPropagationStopped(),g.current||e.stopPropagation())}))})),w&&(0,r.createElement)(D,{control:b,bubbles:!g.current,name:s,value:c,checked:j,required:i,disabled:o,style:{transform:"translateX(-100%)"}}))})),E="CheckboxIndicator",C=(0,r.forwardRef)(((e,a)=>{const{__scopeCheckbox:t,forceMount:s,...n}=e,l=j(E,t);return(0,r.createElement)(y.C,{present:s||R(l.state)||!0===l.state},(0,r.createElement)(v.sG.span,(0,d.A)({"data-state":P(l.state),"data-disabled":l.disabled?"":void 0},n,{ref:a,style:{pointerEvents:"none",...e.style}})))})),D=e=>{const{control:a,checked:t,bubbles:s=!0,...n}=e,l=(0,r.useRef)(null),i=(0,h.Z)(t),o=(0,b.X)(a);return(0,r.useEffect)((()=>{const e=l.current,a=window.HTMLInputElement.prototype,r=Object.getOwnPropertyDescriptor(a,"checked").set;if(i!==t&&r){const a=new Event("click",{bubbles:s});e.indeterminate=R(t),r.call(e,!R(t)&&t),e.dispatchEvent(a)}}),[i,t,s]),(0,r.createElement)("input",(0,d.A)({type:"checkbox","aria-hidden":!0,defaultChecked:!R(t)&&t},n,{tabIndex:-1,ref:l,style:{...e.style,...o,position:"absolute",pointerEvents:"none",opacity:0,margin:0}}))};function R(e){return"indeterminate"===e}function P(e){return R(e)?"indeterminate":e?"checked":"unchecked"}const S=N,q=C;var A=t(6210),I=t(921),F=t(579);const O=r.forwardRef(((e,a)=>{let{className:t,...r}=e;return(0,F.jsx)(S,{ref:a,className:(0,I.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...r,children:(0,F.jsx)(q,{className:(0,I.cn)("flex items-center justify-center text-current"),children:(0,F.jsx)(A.A,{className:"h-4 w-4"})})})}));O.displayName=S.displayName;const J=e=>{let{form:a,field:t,...r}=e;console.log(t);const{name:n,checked:l}=t,{handleChange:i,handleBlur:o}=a,{label:c,className:d,disabled:u,inputProps:m}=r;return(0,F.jsxs)("div",{className:"flex items-center",children:[(0,F.jsx)(O,{id:n,name:n,checked:l,onCheckedChange:e=>{a.setFieldValue(n,e)},onChange:i,onBlur:o,disabled:u,className:d,...m}),(0,F.jsx)(s.J,{htmlFor:"remember",children:c})]})},L={usernameOrEmail:"",password:"",remember:!1},M=o.Ik({usernameOrEmail:o.Yj().required("Full name is required"),password:o.Yj().required("password is required")}),U=e=>(0,F.jsx)("div",{className:"container mx-auto px-4 h-full",children:(0,F.jsx)("div",{className:"flex content-center items-center justify-center h-full",children:(0,F.jsx)("div",{className:"w-full lg:w-4/12 px-4",children:(0,F.jsx)("div",{className:"relative flex flex-col min-w-0 break-words w-full mb-6 shadow-lg rounded-lg bg-blueGray-200 border-0",children:(0,F.jsx)("div",{className:"rounded-t mb-0 px-6 py-6",children:(0,F.jsx)(i.l1,{initialValues:L,validationSchema:M,onSubmit:(a,t)=>{let{setFieldValue:r}=t;null===e||void 0===e||e.handleSignIn(a)},children:e=>{let{values:a,setFieldValue:t,touched:r,errors:o}=e;return(0,F.jsx)(i.lV,{children:(0,F.jsxs)("div",{className:"w-full max-w-sm space-y-2",children:[(0,F.jsxs)("div",{className:"space-y-2 text-center",children:[(0,F.jsx)("div",{className:"mx-auto h-8 w-auto"}),(0,F.jsxs)("div",{className:"space-y-2",children:[(0,F.jsx)("h1",{className:"text-3xl font-bold",children:"Welcome back"}),(0,F.jsx)("p",{className:"text-gray-500 dark:text-gray-400",children:"Enter your email and password to sign in"})]})]}),(0,F.jsxs)("div",{className:"space-y-4",children:[(0,F.jsxs)("div",{className:"space-y-2",children:[(0,F.jsx)(s.J,{htmlFor:"email",children:"Email"}),(0,F.jsx)(i.D0,{name:"usernameOrEmail",value:"".concat(a.usernameOrEmail),placeholder:"Email/Username",required:!0,component:c.o,autoComplete:"email",fullWidth:!0})]}),(0,F.jsxs)("div",{className:"space-y-2",children:[(0,F.jsx)("div",{className:"space-x-2",children:(0,F.jsx)(s.J,{htmlFor:"password",children:"Password"})}),(0,F.jsx)(i.D0,{name:"password",value:"".concat(a.password),label:"Password",placeholder:"Password",type:"password",required:!0,component:c.o,autoComplete:"password",fullWidth:!0})]}),(0,F.jsx)("div",{className:"space-y-2",children:(0,F.jsxs)("div",{className:"flex items-center justify-between",children:[(0,F.jsx)(i.D0,{id:"remember",name:"remember",checked:"".concat(a.remember),type:"checkbox",label:"Remember me",component:J,className:"mr-2"}),(0,F.jsx)(l.N_,{className:"text-blue-500",to:"/forgot",children:"Forgot your password?"})]})}),(0,F.jsx)("div",{className:"space-y-2",children:(0,F.jsx)(n.$,{className:"w-full",children:"Sign in"})}),(0,F.jsx)("div",{className:"space-y-2 w-full",children:(0,F.jsx)(l.N_,{className:"text-blue-500",to:"/signup",children:"Don't have an account? Sign Up"})})]})]})})}})})})})})});var _=t(3003),B=t(3216),T=t(8771),V=t(6987);const W=(0,_.Ng)((function(e){return{userData:e.LoginReducer}}),(function(e){return{authenticateUser:a=>e((0,T.$u)(a)),validateToken:a=>e((0,T.k9)(a))}}))((e=>{const a=(0,B.Zp)(),{enqueueSnackbar:t}=(0,V.dh)();return(0,F.jsx)(U,{navigate:a,handleSignIn:async r=>{if(null!=r)try{const s=await e.authenticateUser(r);(null===r||void 0===r?void 0:r.remember)&&localStorage.setItem("userDetails",JSON.stringify(s)),t("Login Successful",{variant:"success"}),a("/dashboard")}catch(s){console.log(s),t(s,{variant:"error"})}}})}))},8771:(e,a,t)=>{t.d(a,{$u:()=>l,EJ:()=>i,DY:()=>c,k9:()=>d,mC:()=>o});var r=t(9217),s=t(7154);const n={signUp:e=>{if(void 0!==e){let a=r.aD+"/api/user/signup";return s.A.post(a,e)}},signIn:e=>{if(void 0!==e){let a=r.aD+"/api/user/signin";return s.A.post(a,e)}},initiateResetPassword:e=>{if(void 0!==e){let a=r.aD+"/api/user/initiate-reset-password";return s.A.post(a,e)}},verifyOtpAndResetPassword:e=>{if(void 0!==e){let a=r.aD+"/api/user/verify-otp-reset-password";return s.A.post(a,e)}}};function l(e){return async a=>{a({type:r.p7});try{const t=await n.signIn(e);return a({type:r.fc,payload:t.data}),t.data}catch(t){throw a({type:r.cM,payload:t.message}),t}}}function i(e){return async a=>{a({type:r.p7});try{const t=await n.initiateResetPassword(e);return a({type:r.fc,payload:t.data}),t.data}catch(t){throw a({type:r.cM,payload:t.message}),t}}}function o(e){return async a=>{a({type:r.p7});try{const t=await n.verifyOtpAndResetPassword(e);return a({type:r.fc,payload:t.data}),t.data}catch(t){throw a({type:r.cM,payload:t.message}),t}}}function c(e){return async a=>{a({type:r.yl});try{const t=await n.signUp(e);return a({type:r.mL,payload:t.data}),t.data}catch(t){throw a({type:r.x4,payload:t.message}),t}}}function d(e){return{type:r.dS,payload:n.validateToken(e).then((e=>e.data))}}},3168:(e,a,t)=>{t.d(a,{Z:()=>s});var r=t(5043);function s(e){const a=(0,r.useRef)({value:e,previous:e});return(0,r.useMemo)((()=>(a.current.value!==e&&(a.current.previous=a.current.value,a.current.value=e),a.current.previous)),[e])}}}]);
//# sourceMappingURL=656.1b253a5b.chunk.js.map