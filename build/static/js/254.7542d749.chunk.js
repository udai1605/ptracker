(self.webpackChunkptracker=self.webpackChunkptracker||[]).push([[254],{26981:function(e,i,t){"use strict";t.r(i),t.d(i,{default:function(){return ae}});var l=t(74165),n=t(15861),o=t(1413),a=t(29439),d=t(72791),r=t(4942),s=t(66934),c=t(79836),u=t(53382),h=t(68745),v=t(90618),x=t(39281),p=t(56890),m=t(35855),g=t(35527),f=t(73518),j=t(26812),y=t(12715),Z=t(41133),D=t(5397),w=t(10111),b=t(13967),S=t(64554),C=t(16386),P=t(5574),_=t(39157),k=t(65661),L=t(55705),F=t(91903),I=t(65078),M=t(35127),R=t(78687),T=t(61889),W=t(36151),z=t(68096),A=t(94925),G=t(23786),H=t(35557),B=t(80184);var N=(0,R.$j)((function(e){return{userData:e.LoginReducer,companyData:e.CompanyReducer}}),(function(e){return{getallParttime:function(i){return e((0,H.gG)(i))}}}))((function(e){var i;console.log(e);var t=(0,d.useState)(!1),o=(0,a.Z)(t,2),r=o[0],s=o[1],c=function(){s(!1)};return(0,B.jsxs)("div",{children:[(0,B.jsx)(T.ZP,{container:!0,spacing:2,justifyContent:"flex-end",children:(0,B.jsx)(T.ZP,{item:!0,xs:12,md:12,sx:{display:"flex",justifyContent:"flex-end",marginBottom:"10px"},children:(0,B.jsx)(W.Z,{variant:"outlined",startIcon:(0,B.jsx)(F.Z,{}),color:"primary",onClick:function(){var i,t,l={userId:null===e||void 0===e||null===(i=e.userData)||void 0===i||null===(t=i.loginData)||void 0===t?void 0:t.user_id};e.getallParttime(l),s(!0)},children:"Filter"})})}),(0,B.jsxs)(P.Z,{open:r,onClose:c,fullWidth:!0,maxWidth:"md",children:[(0,B.jsx)(k.Z,{children:"Apply Filters"}),(0,B.jsx)(_.Z,{children:(null===e||void 0===e||null===(i=e.companyData)||void 0===i?void 0:i.isparttimeListFetched)&&(0,B.jsx)(L.J9,{initialValues:{companyID:"",location:"",fromDate:"",toDate:""},onSubmit:function(){var i=(0,n.Z)((0,l.Z)().mark((function i(t,n){var o,a;return(0,l.Z)().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:n.setFieldValue,o=n.setSubmitting,a=n.resetForm,console.log("clicked");try{null===e||void 0===e||e.handleFilter(t),o(!1),a()}catch(l){console.error(l),o(!1)}case 3:case"end":return i.stop()}}),i)})));return function(e,t){return i.apply(this,arguments)}}(),children:function(i){var t,l,n,o=i.values,a=i.setFieldValue;i.touched,i.errors;return(0,B.jsx)(L.l0,{children:(0,B.jsx)(T.ZP,{container:!0,spacing:2,mt:1,sx:{width:"100%",border:"1px solid lightgrey",borderRadius:"5px",padding:"1rem 1rem 1rem 0",marginLeft:"0"},children:(0,B.jsx)(T.ZP,{item:!0,md:12,xs:12,sx:{marginTop:"-1rem"},children:(0,B.jsxs)(T.ZP,{container:!0,spacing:2,children:[(0,B.jsx)(T.ZP,{item:!0,xs:12,md:12,children:(0,B.jsxs)(z.Z,{fullWidth:!0,children:[(0,B.jsx)(A.Z,{htmlFor:"selectLanguage",children:"Select Company"}),(0,B.jsx)(L.gN,{name:"companyID",value:"".concat(o.companyID),label:"Company Name",placeholder:"Company Name",component:I.r,children:null===e||void 0===e||null===(t=e.companyData)||void 0===t||null===(l=t.parttimeList)||void 0===l||null===(n=l.data)||void 0===n?void 0:n.map((function(e,i){return(0,B.jsx)(G.Z,{onClick:function(){a("companyID",null===e||void 0===e?void 0:e._id)},value:null===e||void 0===e?void 0:e._id,children:null===e||void 0===e?void 0:e.part_time_name},i)}))})," "]})}),(0,B.jsx)(T.ZP,{item:!0,xs:12,md:12,children:(0,B.jsx)(M.Z,{views:["year","month","day"],inputFormat:"MM/dd/yyyy",name:"fromDate",label:"From Date",setFormikFieldvalue:a,endAdornmentRequired:!0,maxDate:new Date})}),(0,B.jsx)(T.ZP,{item:!0,xs:12,md:12,children:(0,B.jsx)(M.Z,{views:["year","month","day"],inputFormat:"MM/dd/yyyy",name:"toDate",label:"To Date",setFormikFieldvalue:a,endAdornmentRequired:!0,maxDate:new Date})}),(0,B.jsxs)(T.ZP,{item:!0,xs:12,md:12,sx:{display:"flex",justifyContent:"center",alignItems:"center"},children:[(0,B.jsx)(W.Z,{sx:{width:"200px",height:"39px",marginRight:"10px"},variant:"contained",onClick:c,children:"close"}),(0,B.jsx)(W.Z,{sx:{width:"200px",height:"39px"},variant:"contained",type:"submit",children:"apply"})]})]})})})})}})})]})]})})),U=t(92956),E=U.mM.create({page:{flexDirection:"column",padding:20},header:{fontSize:20,marginBottom:20,textAlign:"center",fontFamily:"Helvetica-Bold"},table:{display:"table",width:"auto",borderWidth:1},rowHeader:{flexDirection:"row",borderBottomWidth:1,borderTopWidth:1,alignItems:"center",height:30,textAlign:"center"},row:{flexDirection:"row",borderBottomWidth:1,alignItems:"center",height:30,textAlign:"center"},headerCell:{fontSize:12,fontWeight:"bold",borderRightWidth:1},headerCellLast:{fontSize:12,fontWeight:"bold"},cell:{fontSize:12,borderRightWidth:1,borderColor:"#ccc",flex:1},cellLast:{fontSize:12,borderColor:"#ccc",flex:1},totalRow:{flexDirection:"row",borderTopWidth:1,borderColor:"#ccc",alignItems:"center",height:30,textAlign:"center"},dateRow:{flexDirection:"row",border:1,borderColor:"#ccc",alignItems:"center",height:30,textAlign:"center",marginBottom:20},footerStyles:{position:"absolute",bottom:30,left:0,right:0,textAlign:"center",fontSize:10}}),q=function(e){return new Date(e).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})},V=function(e){var i=e.data;return(0,B.jsx)(U.BB,{children:(0,B.jsxs)(U.T3,{size:"A4",style:E.page,children:[(0,B.jsx)(U.xv,{style:E.header,children:"Shift Report"}),(0,B.jsxs)(U.G7,{style:E.dateRow,children:[(0,B.jsx)(U.xv,{style:[E.headerCell,{width:"25%"}],children:"From:"}),(0,B.jsx)(U.xv,{style:[E.cell,{width:"25%"}],children:null!==i&&void 0!==i&&i.startDate?(0,C.Z)(new Date(null===i||void 0===i?void 0:i.startDate),"MM-dd-yyyy"):(0,C.Z)(new Date(null===i||void 0===i?void 0:i.shifts[(null===i||void 0===i?void 0:i.shifts.length)-1].date),"MM-dd-yyyy")}),(0,B.jsx)(U.xv,{style:[E.headerCell,{width:"25%"}],children:"To:"}),(0,B.jsx)(U.xv,{style:[E.cellLast,{width:"25%"}],children:null!==i&&void 0!==i&&i.endDate?(0,C.Z)(new Date(null===i||void 0===i?void 0:i.endDate),"MM-dd-yyyy"):(0,C.Z)(new Date(null===i||void 0===i?void 0:i.shifts[0].date),"MM-dd-yyyy")})]}),(0,B.jsxs)(U.G7,{style:E.table,children:[(0,B.jsxs)(U.G7,{style:E.rowHeader,children:[(0,B.jsx)(U.xv,{style:[E.headerCell,{width:"20%"}],children:"Date"}),(0,B.jsx)(U.xv,{style:[E.headerCell,{width:"20%"}],children:"Location"}),(0,B.jsx)(U.xv,{style:[E.headerCell,{width:"20%"}],children:"Start Time"}),(0,B.jsx)(U.xv,{style:[E.headerCell,{width:"20%"}],children:"End Time"}),(0,B.jsx)(U.xv,{style:[E.headerCellLast,{width:"20%"}],children:"Shift Hours"})]}),null===i||void 0===i?void 0:i.shifts.map((function(e){return(0,B.jsxs)(U.G7,{style:E.row,children:[(0,B.jsx)(U.xv,{style:[E.cell,{width:"20%"}],children:(0,C.Z)(new Date(null===e||void 0===e?void 0:e.date),"MM-dd-yyyy")}),(0,B.jsx)(U.xv,{style:[E.cell,{width:"20%"}],children:null===e||void 0===e?void 0:e.location}),(0,B.jsx)(U.xv,{style:[E.cell,{width:"20%"}],children:q(null===e||void 0===e?void 0:e.start_time)}),(0,B.jsx)(U.xv,{style:[E.cell,{width:"20%"}],children:q(null===e||void 0===e?void 0:e.end_time)}),(0,B.jsx)(U.xv,{style:[E.cellLast,{width:"20%"}],children:null===e||void 0===e?void 0:e.shift_hours})]},e._id)})),(0,B.jsxs)(U.G7,{style:E.totalRow,children:[(0,B.jsx)(U.xv,{style:[E.headerCell,{width:"80%"}],children:"Total Hours:"}),(0,B.jsx)(U.xv,{style:[E.cell,{width:"20%"}],children:null===i||void 0===i?void 0:i.totalHours})]}),(0,B.jsxs)(U.G7,{style:E.totalRow,children:[(0,B.jsx)(U.xv,{style:[E.headerCell,{width:"80%"}],children:"Total Pay(without tax):"}),(0,B.jsx)(U.xv,{style:[E.cell,{width:"20%"}],children:null===i||void 0===i?void 0:i.totalPay})]})]}),(0,B.jsx)(U.G7,{style:E.footerStyles,children:(0,B.jsxs)(U.xv,{children:["Generated by"," ",(0,B.jsx)(U.rU,{src:"https://ptracker.onrender.com",color:"blue",children:"PTracker"}),", designed and developed by"," ",(0,B.jsx)(U.rU,{src:"https://www.linkedin.com/in/udaikiran-ravada/",color:"blue",children:"Udaikiran"})]})})]})})},$=t(13400),J=t(41286),O=t(27247),K=t(73590),Q=t(12598),X=(0,s.ZP)(h.Z)((function(e){var i,t=e.theme;return i={},(0,r.Z)(i,"&.".concat(v.Z.head),{backgroundColor:t.palette.common.black,color:t.palette.common.white}),(0,r.Z)(i,"&.".concat(v.Z.body),{fontSize:14}),i})),Y=(0,s.ZP)(m.Z)((function(e){return{"&:nth-of-type(odd)":{backgroundColor:e.theme.palette.action.hover},"&:last-child td, &:last-child th":{border:0}}})),ee=function(e,i){var t=function(e){return new Date(e).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})},l=t(e),n=t(i);return"".concat(l," - ").concat(n)};function ie(e){var i,t,l,n,o=(0,b.Z)(),a=null===e||void 0===e||null===(i=e.state)||void 0===i?void 0:i.page,d=null===e||void 0===e||null===(t=e.state)||void 0===t?void 0:t.rowsperpage,r=null===e||void 0===e||null===(l=e.ShiftData)||void 0===l||null===(n=l.shiftList)||void 0===n?void 0:n.count;return(0,B.jsxs)(S.Z,{sx:{flexShrink:0,ml:2.5},children:[(0,B.jsx)($.Z,{onClick:function(i){e.handleChangePage(i,0)},disabled:0===a,"aria-label":"first page",children:"rtl"===o.direction?(0,B.jsx)(w.Z,{}):(0,B.jsx)(y.Z,{})}),(0,B.jsx)($.Z,{onClick:function(i){e.handleChangePage(i,a-1)},disabled:0===a,"aria-label":"previous page",children:"rtl"===o.direction?(0,B.jsx)(D.Z,{}):(0,B.jsx)(Z.Z,{})}),(0,B.jsx)($.Z,{onClick:function(i){e.handleChangePage(i,a+1)},disabled:a>=Math.ceil(r/d)-1,"aria-label":"next page",children:"rtl"===o.direction?(0,B.jsx)(Z.Z,{}):(0,B.jsx)(D.Z,{})}),(0,B.jsx)($.Z,{onClick:function(i){e.handleChangePage(i,Math.max(0,Math.ceil(r/d)-1))},disabled:a>=Math.ceil(r/d)-1,"aria-label":"last page",children:"rtl"===o.direction?(0,B.jsx)(y.Z,{}):(0,B.jsx)(w.Z,{})})]})}var te=function(e){var i,t,l,n,r,s,v,y,Z,D,w,b,S,P,_,k,L=(0,d.useState)(!1),F=(0,a.Z)(L,2),I=F[0],M=F[1],R=(0,d.useState)(null),z=(0,a.Z)(R,2),A=z[0],G=z[1],H=function(i){e.initiateEdit(),G(i),M(!0)},E={id:null!==A&&void 0!==A&&A._id?null===A||void 0===A?void 0:A._id:"",companyID:null!==A&&void 0!==A&&A.parttime_id?null===A||void 0===A||null===(i=A.parttime_id)||void 0===i?void 0:i._id:"",location:null!==A&&void 0!==A&&A.location?null===A||void 0===A?void 0:A.location:"",shiftDate:null!==A&&void 0!==A&&A.date?null===A||void 0===A?void 0:A.date:"",startTime:null!==A&&void 0!==A&&A.start_time?null===A||void 0===A?void 0:A.start_time:"",endTime:null!==A&&void 0!==A&&A.end_time?null===A||void 0===A?void 0:A.end_time:""};return(0,B.jsxs)(B.Fragment,{children:[(0,B.jsx)(N,{handleFilter:null===e||void 0===e?void 0:e.handleFilter}),(0,B.jsxs)(x.Z,{component:g.Z,children:[(0,B.jsxs)(c.Z,{sx:{minWidth:700},"aria-label":"customized table",children:[(0,B.jsx)(p.Z,{children:(0,B.jsxs)(m.Z,{children:[(0,B.jsx)(X,{children:"S.No. "}),(0,B.jsx)(X,{children:"Company Name"}),(0,B.jsx)(X,{align:"right",children:"Location"}),(0,B.jsx)(X,{align:"right",children:"Date"}),(0,B.jsx)(X,{align:"right",children:"Start - End Time"}),(0,B.jsx)(X,{align:"right",children:"Total Hours"}),(0,B.jsx)(X,{align:"right",children:"Actions"})]})}),(0,B.jsxs)(u.Z,{children:[null===e||void 0===e||null===(t=e.ShiftData)||void 0===t||null===(l=t.shiftList)||void 0===l||null===(n=l.shifts)||void 0===n?void 0:n.map((function(e,i){var t;return(0,B.jsxs)(Y,{children:[(0,B.jsx)(X,{align:"middle",children:i+1}),(0,B.jsx)(X,{component:"th",scope:"row",children:null===e||void 0===e||null===(t=e.parttime_id)||void 0===t?void 0:t.part_time_name}),(0,B.jsx)(X,{align:"right",children:null===e||void 0===e?void 0:e.location}),(0,B.jsxs)(X,{align:"right",children:[" ",(0,C.Z)(new Date(null===e||void 0===e?void 0:e.date),"MM-dd-yyyy")]}),(0,B.jsx)(X,{align:"right",children:ee(null===e||void 0===e?void 0:e.start_time,null===e||void 0===e?void 0:e.end_time)}),(0,B.jsx)(X,{align:"right",children:null===e||void 0===e?void 0:e.shift_hours}),(0,B.jsxs)(X,{align:"right",children:[(0,B.jsx)($.Z,{"aria-label":"delete",size:"small",onClick:function(){return H(e)},children:(0,B.jsx)(J.Z,{fontSize:"inherit"})}),(0,B.jsx)($.Z,{"aria-label":"delete",size:"small",onClick:function(){return H(e)},children:(0,B.jsx)(O.Z,{fontSize:"inherit"})})]})]},e._id)})),(0,B.jsxs)(m.Z,{children:[(0,B.jsx)(h.Z,{rowSpan:3,colSpan:2}),(0,B.jsx)(h.Z,{colSpan:3,children:"Total Hours"}),(0,B.jsx)(h.Z,{align:"right",children:null===e||void 0===e||null===(r=e.ShiftData)||void 0===r||null===(s=r.shiftList)||void 0===s?void 0:s.totalHours})]}),(0,B.jsxs)(m.Z,{children:[(0,B.jsx)(h.Z,{colSpan:3,children:"Total Pay (without tax*)"}),(0,B.jsx)(h.Z,{align:"right",children:null===e||void 0===e||null===(v=e.ShiftData)||void 0===v||null===(y=v.shiftList)||void 0===y?void 0:y.totalPay})]})]}),(0,B.jsx)(j.Z,{rowsPerPageOptions:[5,10,25,50],colSpan:5,count:null===e||void 0===e||null===(Z=e.ShiftData)||void 0===Z||null===(D=Z.shiftList)||void 0===D?void 0:D.count,rowsPerPage:null===e||void 0===e||null===(w=e.state)||void 0===w?void 0:w.rowsperpage,page:null===e||void 0===e||null===(b=e.state)||void 0===b?void 0:b.page,SelectProps:{inputProps:{"aria-label":"rows per page"},native:!0},onPageChange:e.handleChangePage,onRowsPerPageChange:e.handleChangeRowsPerPage,ActionsComponent:function(i){return(0,B.jsx)(ie,(0,o.Z)((0,o.Z)({},i),{},{state:e.state,ShiftData:e.ShiftData,handleChangePage:e.handleChangePage}))}})," "]})," "]}),(0,B.jsx)(T.ZP,{container:!0,spacing:2,justifyContent:"flex-end",children:(0,B.jsx)(T.ZP,{item:!0,xs:12,md:12,sx:{display:"flex",justifyContent:"flex-end",marginTop:"10px"},children:(0,B.jsx)(U.WD,{document:(0,B.jsx)(V,{data:null===e||void 0===e||null===(S=e.ShiftData)||void 0===S?void 0:S.shiftList}),fileName:"shiftReport".concat(new Date,".pdf"),children:function(e){e.blob,e.url;var i=e.loading;e.error;return i?"Loading document...":(0,B.jsx)(W.Z,{variant:"outlined",startIcon:(0,B.jsx)(f.Z,{}),color:"primary",children:"Download"})}})})}),(0,B.jsx)(K.Z,{open:I,onClose:function(){M(!1),G(null)},"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",children:(0,B.jsx)(T.ZP,{container:!0,xs:6,md:6,spacing:2,sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",bgcolor:"background.paper",boxShadow:24,p:2},children:(null===e||void 0===e||null===(P=e.companyData)||void 0===P?void 0:P.isparttimeListFetched)&&(0,B.jsx)(Q.Z,{companies:null===e||void 0===e||null===(_=e.companyData)||void 0===_||null===(k=_.parttimeList)||void 0===k?void 0:k.data,handleSubmit:function(i){e.handleUpdate(i)},initialState:E,label:"Update Shift"})})})]})},le=t(57689),ne=t(29618),oe=t(35552);var ae=(0,R.$j)((function(e){return{userData:e.LoginReducer,companyData:e.CompanyReducer,ShiftData:e.ShiftReducer}}),(function(e){return{getallShifts:function(i){return e((0,ne.Fg)(i))},getallParttime:function(i){return e((0,H.gG)(i))},updateShift:function(i){return e((0,ne.rD)(i))}}}))((function(e){var i,t=(0,le.s0)(),r=(0,oe.Ds)().enqueueSnackbar,s=(0,d.useState)({rowsperpage:10,page:0}),c=(0,a.Z)(s,2),u=c[0],h=c[1],v=(0,d.useState)({}),x=(0,a.Z)(v,2),p=x[0],m=x[1],g=function(){var i=(0,n.Z)((0,l.Z)().mark((function i(t){var n,o,a,d,s,c;return(0,l.Z)().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,e.updateShift(t);case 3:r("Shift updated Successfully",{variant:"success"}),null!==p&&void 0!==p&&p.parttime_id||null!==p&&void 0!==p&&p.fromDate||null!==p&&void 0!==p&&p.toDate?(a={userId:null===e||void 0===e||null===(n=e.userData)||void 0===n||null===(o=n.loginData)||void 0===o?void 0:o.user_id,limit:null===u||void 0===u?void 0:u.rowsperpage,page:parseInt(null===u||void 0===u?void 0:u.page,10)+1,parttime_id:null===p||void 0===p?void 0:p.parttime_id,fromDate:null===p||void 0===p?void 0:p.fromDate,toDate:null===p||void 0===p?void 0:p.toDate},e.getallShifts(a)):(c={userId:null===e||void 0===e||null===(d=e.userData)||void 0===d||null===(s=d.loginData)||void 0===s?void 0:s.user_id,limit:null===u||void 0===u?void 0:u.rowsperpage,page:parseInt(null===u||void 0===u?void 0:u.page,10)+1},e.getallShifts(c)),i.next=11;break;case 7:i.prev=7,i.t0=i.catch(0),console.log(i.t0),r(i.t0,{variant:"error"});case 11:case"end":return i.stop()}}),i,null,[[0,7]])})));return function(e){return i.apply(this,arguments)}}();return(0,d.useEffect)((function(){!function(){var i,t,l={userId:null===e||void 0===e||null===(i=e.userData)||void 0===i||null===(t=i.loginData)||void 0===t?void 0:t.user_id,limit:null===u||void 0===u?void 0:u.rowsperpage,page:parseInt(null===u||void 0===u?void 0:u.page,10)+1};e.getallShifts(l)}()}),[u]),(null===e||void 0===e||null===(i=e.ShiftData)||void 0===i?void 0:i.isshiftListFetched)&&(0,B.jsx)(te,{navigate:t,ShiftData:null===e||void 0===e?void 0:e.ShiftData,companyData:null===e||void 0===e?void 0:e.companyData,handleChangePage:function(e,i){h((0,o.Z)((0,o.Z)({},u),{},{page:i}))},state:u,handleChangeRowsPerPage:function(e){h((0,o.Z)((0,o.Z)({},u),{},{rowsperpage:parseInt(e.target.value,10),page:0}))},handleUpdate:g,handleFilter:function(i){var t,l,n={userId:null===e||void 0===e||null===(t=e.userData)||void 0===t||null===(l=t.loginData)||void 0===l?void 0:l.user_id,limit:null===u||void 0===u?void 0:u.rowsperpage,page:parseInt(null===u||void 0===u?void 0:u.page,10)+1,parttime_id:null===i||void 0===i?void 0:i.companyID,fromDate:null===i||void 0===i?void 0:i.fromDate,toDate:null===i||void 0===i?void 0:i.toDate};m(n),e.getallShifts(n)},initiateEdit:function(){var i,t,l={userId:null===e||void 0===e||null===(i=e.userData)||void 0===i||null===(t=i.loginData)||void 0===t?void 0:t.user_id};e.getallParttime(l)}})}))},42480:function(){}}]);
//# sourceMappingURL=254.7542d749.chunk.js.map