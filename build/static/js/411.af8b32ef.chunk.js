"use strict";(self.webpackChunkpartimetracker=self.webpackChunkpartimetracker||[]).push([[411],{2467:(e,t,a)=>{a.d(t,{m:()=>l});var r=a(5043),s=a(4526),n=a(579);const l=e=>{let{form:t,field:a,options:l,placeholder:i,setFormikFieldvalue:o,currvalue:d}=e;const{name:c,value:m}=a,[u,p]=(0,r.useState)(!1);return(0,n.jsxs)(s.l6,{defaultValue:m,open:u,onOpenChange:p,onValueChange:e=>{o(c,e),p(!1)},children:[(0,n.jsx)(s.bq,{children:(0,n.jsx)(s.yv,{placeholder:i})}),(0,n.jsx)(s.gC,{children:(0,n.jsx)(s.s3,{children:null===l||void 0===l?void 0:l.map(((e,t)=>(0,n.jsx)(s.eb,{value:null===e||void 0===e?void 0:e._id,children:null===e||void 0===e?void 0:e.part_time_name},t)))})})]})}},4395:(e,t,a)=>{a.d(t,{Y:()=>r});const r=e=>{const t=["January","February","March","April","May","June","July","August","September","October","November","December"];let a=new Date(e),r=""+a.getMonth(),s=""+a.getDate(),n=a.getFullYear();const l={January:"01",February:"02",March:"03",April:"04",May:"05",June:"06",July:"07",August:"08",September:"09",October:"10",November:"11",December:"12"}[t[r]];return s.length<2&&(s="0"+s),[s,t[r],n,l]}},585:(e,t,a)=>{a.d(t,{o:()=>i});var r=a(5043),s=a(7356),n=a(579);const l=r.forwardRef(((e,t)=>{let{className:a,type:r,...l}=e;return(0,n.jsx)("input",{type:r,className:(0,s.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a),ref:t,...l})}));l.displayName="Input";const i=e=>{let{form:t,field:a,...r}=e;const{name:s,value:i=""}=a,{handleChange:o,handleBlur:d}=t,{label:c,required:m,multiline:u,placeholder:p,type:f,size:h="small",fullWidth:y=!0,helperText:v,error:x,className:g,disabled:b,inputProps:w}=r;return(0,n.jsx)(l,{id:s,name:s,value:i,label:c,error:!!x,className:g,helperText:x||v,required:m,multiline:u,rows:u&&3,placeholder:p,type:f,fullWidth:y,disabled:b,variant:"outlined",onChange:o,onBlur:d,InputProps:w})}},3210:(e,t,a)=>{a.d(t,{A:()=>u});var r=a(5043),s=a(4259),n=a(8646),l=a(4395),i=a(7356),o=a(5650),d=a(2184),c=a(7067),m=a(579);function u(e){let{form:t,field:a,setFormikFieldvalue:u,currvalue:p,views:f=["year","month","day"]}=e;const[h,y]=(0,r.useState)(p?new Date(p):null),[v,x]=(0,r.useState)(!1),{name:g,value:b=""}=a;return(0,m.jsxs)(c.AM,{open:v,onOpenChange:x,children:[(0,m.jsx)(c.Wv,{asChild:!0,children:(0,m.jsxs)(o.$,{variant:"outline",onClick:()=>x(!0),className:(0,i.cn)("justify-start text-left font-normal",!h&&"text-muted-foreground"),children:[(0,m.jsx)(n.A,{className:"mr-2 h-4 w-4"}),h?(0,s.A)(h,"PPP"):(0,m.jsx)("span",{children:"Pick the shift date"})]})}),(0,m.jsx)(c.hl,{className:"w-auto p-0",children:(0,m.jsx)(d.V,{mode:"single",selected:h,onSelect:e=>{const t=(0,l.Y)(e);let a="".concat(t[3],"-01-").concat(t[2]);f.includes("day")&&(a="".concat(t[3],"-").concat(t[0],"-").concat(t[2])),y(e),u(g,a),x(!1)},disabled:e=>e>new Date||e<new Date("2020-01-01"),initialFocus:!0})})]})}},2184:(e,t,a)=>{a.d(t,{V:()=>d});a(5043);var r=a(9463),s=a(8326),n=a(7928),l=a(7356),i=a(5650),o=a(579);function d(e){let{className:t,classNames:a,showOutsideDays:d=!0,...c}=e;return(0,o.jsx)(n.hv,{showOutsideDays:d,className:(0,l.cn)("p-3",t),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:(0,l.cn)((0,i.r)({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:(0,l.cn)((0,i.r)({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...a},components:{IconLeft:e=>{let{...t}=e;return(0,o.jsx)(r.A,{className:"h-4 w-4"})},IconRight:e=>{let{...t}=e;return(0,o.jsx)(s.A,{className:"h-4 w-4"})}},...c})}d.displayName="Calendar"},9448:(e,t,a)=>{a.d(t,{BT:()=>d,Wu:()=>c,ZB:()=>o,Zp:()=>l,aR:()=>i,wL:()=>m});var r=a(5043),s=a(7356),n=a(579);const l=r.forwardRef(((e,t)=>{let{className:a,...r}=e;return(0,n.jsx)("div",{ref:t,className:(0,s.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",a),...r})}));l.displayName="Card";const i=r.forwardRef(((e,t)=>{let{className:a,...r}=e;return(0,n.jsx)("div",{ref:t,className:(0,s.cn)("flex flex-col space-y-1.5 p-6",a),...r})}));i.displayName="CardHeader";const o=r.forwardRef(((e,t)=>{let{className:a,...r}=e;return(0,n.jsx)("h3",{ref:t,className:(0,s.cn)("text-2xl font-semibold leading-none tracking-tight",a),...r})}));o.displayName="CardTitle";const d=r.forwardRef(((e,t)=>{let{className:a,...r}=e;return(0,n.jsx)("p",{ref:t,className:(0,s.cn)("text-sm text-muted-foreground",a),...r})}));d.displayName="CardDescription";const c=r.forwardRef(((e,t)=>{let{className:a,...r}=e;return(0,n.jsx)("div",{ref:t,className:(0,s.cn)("p-6 pt-0",a),...r})}));c.displayName="CardContent";const m=r.forwardRef(((e,t)=>{let{className:a,...r}=e;return(0,n.jsx)("div",{ref:t,className:(0,s.cn)("flex items-center p-6 pt-0",a),...r})}));m.displayName="CardFooter"},1438:(e,t,a)=>{a.d(t,{J:()=>d});var r=a(5043),s=a(2367),n=a(435),l=a(7356),i=a(579);const o=(0,n.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=r.forwardRef(((e,t)=>{let{className:a,...r}=e;return(0,i.jsx)(s.b,{ref:t,className:(0,l.cn)(o(),a),...r})}));d.displayName=s.b.displayName},7067:(e,t,a)=>{a.d(t,{AM:()=>i,Wv:()=>o,hl:()=>d});var r=a(5043),s=a(9604),n=a(7356),l=a(579);const i=s.bL,o=s.l9,d=r.forwardRef(((e,t)=>{let{className:a,align:r="center",sideOffset:i=4,...o}=e;return(0,l.jsx)(s.ZL,{children:(0,l.jsx)(s.UC,{ref:t,align:r,sideOffset:i,className:(0,n.cn)("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...o})})}));d.displayName=s.UC.displayName},4526:(e,t,a)=>{a.d(t,{bq:()=>p,eb:()=>v,gC:()=>y,l6:()=>c,s3:()=>m,yv:()=>u});var r=a(5043),s=a(6088),n=a(2382),l=a(5711),i=a(6210),o=a(7356),d=a(579);const c=s.bL,m=s.YJ,u=s.WT,p=r.forwardRef(((e,t)=>{let{className:a,children:r,...l}=e;return(0,d.jsxs)(s.l9,{ref:t,className:(0,o.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",a),...l,children:[r,(0,d.jsx)(s.In,{asChild:!0,children:(0,d.jsx)(n.A,{className:"h-4 w-4 opacity-50"})})]})}));p.displayName=s.l9.displayName;const f=r.forwardRef(((e,t)=>{let{className:a,...r}=e;return(0,d.jsx)(s.PP,{ref:t,className:(0,o.cn)("flex cursor-default items-center justify-center py-1",a),...r,children:(0,d.jsx)(l.A,{className:"h-4 w-4"})})}));f.displayName=s.PP.displayName;const h=r.forwardRef(((e,t)=>{let{className:a,...r}=e;return(0,d.jsx)(s.wn,{ref:t,className:(0,o.cn)("flex cursor-default items-center justify-center py-1",a),...r,children:(0,d.jsx)(n.A,{className:"h-4 w-4"})})}));h.displayName=s.wn.displayName;const y=r.forwardRef(((e,t)=>{let{className:a,children:r,position:n="popper",...l}=e;return(0,d.jsx)(s.ZL,{children:(0,d.jsxs)(s.UC,{ref:t,className:(0,o.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===n&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",a),position:n,...l,children:[(0,d.jsx)(f,{}),(0,d.jsx)(s.LM,{className:(0,o.cn)("p-1","popper"===n&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:r}),(0,d.jsx)(h,{})]})})}));y.displayName=s.UC.displayName;r.forwardRef(((e,t)=>{let{className:a,...r}=e;return(0,d.jsx)(s.JU,{ref:t,className:(0,o.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",a),...r})})).displayName=s.JU.displayName;const v=r.forwardRef(((e,t)=>{let{className:a,children:r,...n}=e;return(0,d.jsxs)(s.q7,{ref:t,className:(0,o.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...n,children:[(0,d.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,d.jsx)(s.VF,{children:(0,d.jsx)(i.A,{className:"h-4 w-4"})})}),(0,d.jsx)(s.p4,{children:r})]})}));v.displayName=s.q7.displayName;r.forwardRef(((e,t)=>{let{className:a,...r}=e;return(0,d.jsx)(s.wv,{ref:t,className:(0,o.cn)("-mx-1 my-1 h-px bg-muted",a),...r})})).displayName=s.wv.displayName},2622:(e,t,a)=>{a.d(t,{av:()=>o,tU:()=>i});var r=a(5043),s=a(7127),n=a(7356),l=a(579);const i=s.bL;r.forwardRef(((e,t)=>{let{className:a,...r}=e;return(0,l.jsx)(s.B8,{ref:t,className:(0,n.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",a),...r})})).displayName=s.B8.displayName;r.forwardRef(((e,t)=>{let{className:a,...r}=e;return(0,l.jsx)(s.l9,{ref:t,className:(0,n.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",a),...r})})).displayName=s.l9.displayName;const o=r.forwardRef(((e,t)=>{let{className:a,...r}=e;return(0,l.jsx)(s.UC,{ref:t,className:(0,n.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",a),...r})}));o.displayName=s.UC.displayName},9822:(e,t,a)=>{a.d(t,{A:()=>f});var r=a(5043),s=a(3892),n=a(585),l=a(2467),i=a(899),o=a(3210),d=a(2622),c=a(5650),m=a(1438),u=a(9448),p=a(579);const f=e=>{const t=i.Ik({companyID:i.Yj().required("Company name is required"),shiftDate:i.Yj().required("Shift date is required"),startTime:i.Yj().required("Start time is required"),endTime:i.Yj().required("End time is required")}),a=(e,t,a)=>{const r=e.split("T")[0],s=new Date("".concat(r," ").concat(t)),n=new Date("".concat(r," ").concat(a));n<s&&n.setDate(n.getDate()+1);const l=n-s,i=Math.floor(l/36e5),o=Math.floor(l%36e5/6e4);return"".concat(i,":").concat(o<10?"0":"").concat(o)},f=(e,t,r)=>{const s=a(e,t,r).split(":");return"You have worked for a total of  ".concat(s[0]," hours and ").concat(s[1]," minutes during this shift.")},[h,y]=(0,r.useState)(0);return(0,p.jsx)(d.av,{value:"all",children:(0,p.jsxs)(u.Zp,{"x-chunk":"dashboard-06-chunk-0",children:[(0,p.jsxs)(u.aR,{children:[(0,p.jsx)(u.ZB,{children:e.label}),(0,p.jsx)(u.BT,{children:"Add Shift"==e.label?"Please enter below details to add shift":"Please edit below details to update shift"})]}),(0,p.jsx)(u.Wu,{children:(0,p.jsx)(s.l1,{initialValues:e.initialState,validationSchema:t,onSubmit:async(t,r)=>{let{setFieldValue:s,setValues:n,setSubmitting:l,resetForm:i}=r;try{const r=a(t.shiftDate,t.startTime,t.endTime),n=await(e=>{const[t,a]=null===e||void 0===e?void 0:e.split(":").map(Number);return t+a/60})(r),i={...t,totalHours:n};await e.handleSubmit(i),l(!1),s("totalHours",""),y((e=>e+1))}catch(o){console.error(o),l(!1)}},children:t=>{let{values:a,setFieldValue:r,touched:i,errors:d}=t;return console.log(a),(0,p.jsx)(s.lV,{children:(0,p.jsxs)("div",{className:"grid gap-6",children:[(0,p.jsxs)("div",{className:"grid gap-3",children:[(0,p.jsx)(m.J,{children:"Company Name"}),(0,p.jsx)(s.D0,{label:"Company Name",setFormikFieldvalue:r,options:null===e||void 0===e?void 0:e.companies,placeholder:"Select Company",required:!0,name:"companyID",value:"".concat(a.companyID),component:l.m})]}),(0,p.jsxs)("div",{className:"grid gap-3",children:[(0,p.jsx)(m.J,{htmlFor:"name",children:"Work Location"}),(0,p.jsx)(s.D0,{name:"location",value:"".concat(a.location),label:"Work Location",required:!0,placeholder:"Work Location",component:n.o})]}),(0,p.jsxs)("div",{className:"grid gap-3",children:[(0,p.jsx)(m.J,{htmlFor:"name",children:"Shift Date"}),(0,p.jsx)(s.D0,{currvalue:"".concat(a.shiftDate),setFormikFieldvalue:r,inputFormat:"MM/dd/yyyy",name:"shiftDate",required:!0,placeholder:"Pick Date",label:"Shift Date",component:o.A})]}),(0,p.jsxs)("div",{className:"grid gap-6 sm:grid-cols-2",children:[(0,p.jsxs)("div",{className:"grid gap-3",children:[(0,p.jsx)(m.J,{htmlFor:"name",children:"Start Time"}),(0,p.jsx)(s.D0,{name:"startTime",value:"".concat(a.startTime),required:!0,label:"Start Time",type:"time",component:n.o})]}),(0,p.jsxs)("div",{className:"grid gap-3",children:[(0,p.jsx)(m.J,{htmlFor:"name",children:"End Time"}),(0,p.jsx)(s.D0,{name:"endTime",required:!0,value:"".concat(a.endTime),label:"End Time",type:"time",component:n.o})]})]}),(0,p.jsx)("div",{className:"flex flex-col items-center gap-1 text-center",children:(0,p.jsx)("p",{className:"text-sm text-muted-foreground",children:(null===a||void 0===a?void 0:a.endTime)&&(null===a||void 0===a?void 0:a.startTime)&&f(a.shiftDate,a.startTime,a.endTime)})}),(0,p.jsx)("div",{className:"flex flex-col items-center  text-center",children:(0,p.jsxs)(c.$,{className:"mt-4",type:"submit",children:[" ",e.label]})})]})})}},h)})]})})}},4955:(e,t,a)=>{a.d(t,{_N:()=>l,i5:()=>i,SA:()=>o});var r=a(9217),s=a(7154);const n={addnewParttime:e=>{if(void 0!==e){let t=r.aD+"/api/part/add";return s.A.post(t,e)}},getallParttime:e=>{if(void 0!==e){let t=r.aD+"/api/part/all/".concat(e.userId);return s.A.get(t)}},updateParttime:e=>{if(void 0!==e){let t=r.aD+"/api/part/update/".concat(e.id);return s.A.put(t,e)}}};function l(e){return async t=>{t({type:r.jt});try{const a=await n.addnewParttime(e);return t({type:r.zb,payload:a.data}),a.data}catch(a){throw t({type:r.AN,payload:a.message}),a}}}function i(e){return async t=>{t({type:r.CG});try{const a=await n.getallParttime(e);return t({type:r.OO,payload:a.data}),a.data}catch(a){throw t({type:r.DW,payload:a.message}),a}}}function o(e){return async t=>{t({type:r.Bk});try{const a=await n.updateParttime(e);return t({type:r.Fg,payload:a.data}),a.data}catch(a){throw t({type:r.O4,payload:a.message}),a}}}},4893:(e,t,a)=>{a.d(t,{UG:()=>l,yL:()=>o,C_:()=>c,h$:()=>d,gV:()=>i});var r=a(9217),s=a(7154);const n={addnewShift:e=>{if(void 0!==e){let t=r.aD+"/api/time/add";return s.A.post(t,e)}},updateShift:e=>{if(void 0!==e){let t=r.aD+"/api/time/update/".concat(null===e||void 0===e?void 0:e.id);return s.A.put(t,e)}},deleteShift:e=>{if(void 0!==e){let t=r.aD+"/api/time/delete/".concat(null===e||void 0===e?void 0:e._id);return s.A.delete(t,e)}},getallShifts:e=>{if(void 0!==e){let t=r.aD+"/api/time/all/".concat(null===e||void 0===e?void 0:e.userId,"?page=").concat(null===e||void 0===e?void 0:e.page,"&limit=").concat(null===e||void 0===e?void 0:e.limit).concat(null!==e&&void 0!==e&&e.parttime_id?"&parttime_id=".concat(null===e||void 0===e?void 0:e.parttime_id):"").concat(null!==e&&void 0!==e&&e.fromDate?"&startDate=".concat(null===e||void 0===e?void 0:e.fromDate):"").concat(null!==e&&void 0!==e&&e.toDate?"&endDate=".concat(null===e||void 0===e?void 0:e.toDate):"");return s.A.get(t)}},downloadShiftData:e=>{if(void 0!==e){let t=r.aD+"/api/time/generate-pdf/".concat(null===e||void 0===e?void 0:e.userId,"?page=").concat(null===e||void 0===e?void 0:e.page,"&limit=").concat(null===e||void 0===e?void 0:e.limit).concat(null!==e&&void 0!==e&&e.parttime_id?"&parttime_id=".concat(null===e||void 0===e?void 0:e.parttime_id):"").concat(null!==e&&void 0!==e&&e.fromDate?"&startDate=".concat(null===e||void 0===e?void 0:e.fromDate):"").concat(null!==e&&void 0!==e&&e.toDate?"&endDate=".concat(null===e||void 0===e?void 0:e.toDate):"","&companyFilter=".concat(null===e||void 0===e?void 0:e.companyFilter));return s.A.get(t,{responseType:"blob"})}}};function l(e){return async t=>{t({type:r.Lc});try{const a=await n.addnewShift(e);return t({type:r.no,payload:a.data}),a.data}catch(a){throw t({type:r.q5,payload:a.message}),a}}}function i(e){return async t=>{t({type:r.DS});try{const a=await n.updateShift(e);return t({type:r.pv,payload:a.data}),a.data}catch(a){throw t({type:r.s,payload:a.message}),a}}}function o(e){return async t=>{t({type:r.d4});try{const a=await n.deleteShift(e);return t({type:r.pe,payload:a.data}),a.data}catch(a){throw t({type:r.UT,payload:a.message}),a}}}function d(e){return async t=>{t({type:r.lI});try{const a=await n.getallShifts(e);return t({type:r.t4,payload:a.data}),a.data}catch(a){throw t({type:r.kv,payload:a.message}),a}}}function c(e){return async()=>{try{const t=await n.downloadShiftData(e);console.log("download called",t);const a=window.URL.createObjectURL(new Blob([t.data])),r=document.createElement("a");r.href=a,r.setAttribute("download","file.pdf"),document.body.appendChild(r),r.click(),r.parentNode.removeChild(r)}catch(t){throw t}}}}}]);
//# sourceMappingURL=411.af8b32ef.chunk.js.map