(self.webpackChunkpartimetracker=self.webpackChunkpartimetracker||[]).push([[179],{570:(e,a,t)=>{"use strict";t.d(a,{Cf:()=>p,Es:()=>h,HM:()=>u,L3:()=>f,c7:()=>v,lG:()=>d,rr:()=>x,zM:()=>r});var l=t(5043),s=t(5179),i=t(614),n=t(7356),o=t(579);const d=s.bL,r=s.l9,c=s.ZL,u=s.bm,m=l.forwardRef(((e,a)=>{let{className:t,...l}=e;return(0,o.jsx)(s.hJ,{ref:a,className:(0,n.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...l})}));m.displayName=s.hJ.displayName;const p=l.forwardRef(((e,a)=>{let{className:t,children:l,...d}=e;return(0,o.jsxs)(c,{children:[(0,o.jsx)(m,{}),(0,o.jsxs)(s.UC,{ref:a,className:(0,n.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...d,children:[l,(0,o.jsxs)(s.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,o.jsx)(i.A,{className:"h-4 w-4"}),(0,o.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}));p.displayName=s.UC.displayName;const v=e=>{let{className:a,...t}=e;return(0,o.jsx)("div",{className:(0,n.cn)("flex flex-col space-y-1.5 text-center sm:text-left",a),...t})};v.displayName="DialogHeader";const h=e=>{let{className:a,...t}=e;return(0,o.jsx)("div",{className:(0,n.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",a),...t})};h.displayName="DialogFooter";const f=l.forwardRef(((e,a)=>{let{className:t,...l}=e;return(0,o.jsx)(s.hE,{ref:a,className:(0,n.cn)("text-lg font-semibold leading-none tracking-tight",t),...l})}));f.displayName=s.hE.displayName;const x=l.forwardRef(((e,a)=>{let{className:t,...l}=e;return(0,o.jsx)(s.VY,{ref:a,className:(0,n.cn)("text-sm text-muted-foreground",t),...l})}));x.displayName=s.VY.displayName},2264:(e,a,t)=>{"use strict";t.d(a,{A0:()=>o,BF:()=>d,Hj:()=>r,XI:()=>n,nA:()=>u,nd:()=>c});var l=t(5043),s=t(7356),i=t(579);const n=l.forwardRef(((e,a)=>{let{className:t,...l}=e;return(0,i.jsx)("div",{className:"relative w-full overflow-auto",children:(0,i.jsx)("table",{ref:a,className:(0,s.cn)("w-full caption-bottom text-sm",t),...l})})}));n.displayName="Table";const o=l.forwardRef(((e,a)=>{let{className:t,...l}=e;return(0,i.jsx)("thead",{ref:a,className:(0,s.cn)("[&_tr]:border-b",t),...l})}));o.displayName="TableHeader";const d=l.forwardRef(((e,a)=>{let{className:t,...l}=e;return(0,i.jsx)("tbody",{ref:a,className:(0,s.cn)("[&_tr:last-child]:border-0",t),...l})}));d.displayName="TableBody";l.forwardRef(((e,a)=>{let{className:t,...l}=e;return(0,i.jsx)("tfoot",{ref:a,className:(0,s.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...l})})).displayName="TableFooter";const r=l.forwardRef(((e,a)=>{let{className:t,...l}=e;return(0,i.jsx)("tr",{ref:a,className:(0,s.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...l})}));r.displayName="TableRow";const c=l.forwardRef(((e,a)=>{let{className:t,...l}=e;return(0,i.jsx)("th",{ref:a,className:(0,s.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...l})}));c.displayName="TableHead";const u=l.forwardRef(((e,a)=>{let{className:t,...l}=e;return(0,i.jsx)("td",{ref:a,className:(0,s.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...l})}));u.displayName="TableCell";l.forwardRef(((e,a)=>{let{className:t,...l}=e;return(0,i.jsx)("caption",{ref:a,className:(0,s.cn)("mt-4 text-sm text-muted-foreground",t),...l})})).displayName="TableCaption"},4543:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>ee});var l=t(5043);var s=t(9284),i=t(579);s.vv.create({page:{flexDirection:"column",padding:20},header:{fontSize:20,marginBottom:20,textAlign:"center",fontFamily:"Helvetica-Bold"},table:{display:"table",width:"auto",borderWidth:1},rowHeader:{flexDirection:"row",borderBottomWidth:1,borderTopWidth:1,alignItems:"center",height:30,textAlign:"center"},row:{flexDirection:"row",borderBottomWidth:1,alignItems:"center",height:30,textAlign:"center"},headerCell:{fontSize:12,fontWeight:"bold",borderRightWidth:1},headerCellLast:{fontSize:12,fontWeight:"bold"},cell:{fontSize:12,borderRightWidth:1,borderColor:"#ccc",flex:1},cellLast:{fontSize:12,borderColor:"#ccc",flex:1},totalRow:{flexDirection:"row",borderTopWidth:1,borderColor:"#ccc",alignItems:"center",height:30,textAlign:"center"},dateRow:{flexDirection:"row",border:1,borderColor:"#ccc",alignItems:"center",height:30,textAlign:"center",marginBottom:20},footerStyles:{position:"absolute",bottom:30,left:0,right:0,textAlign:"center",fontSize:10}});var n=t(570),o=t(7247),d=t(3892),r=t(5479),c=t(4259),u=t(8646),m=t(4395),p=t(7356),v=t(5650),h=t(2184),f=t(7067);function x(e){let{form:a,field:t,className:s,setFormikFieldvalue:n,currvalue:o,views:d=["year","month","day"]}=e;const[x,g]=(0,l.useState)({from:new Date,to:(0,r.A)(new Date,14)}),[j,N]=(0,l.useState)(!1),{name:y,value:w=""}=t;return(0,i.jsx)("div",{className:(0,p.cn)("grid gap-2",s),children:(0,i.jsxs)(f.AM,{open:j,onOpenChange:N,children:[(0,i.jsx)(f.Wv,{asChild:!0,children:(0,i.jsxs)(v.$,{id:"date",variant:"outline",onClick:()=>N(!0),className:(0,p.cn)(" justify-start text-left font-normal",!x&&"text-muted-foreground"),children:[(0,i.jsx)(u.A,{className:"mr-2 h-4 w-4"}),null!==x&&void 0!==x&&x.from?x.to?(0,i.jsxs)(i.Fragment,{children:[(0,c.A)(x.from,"LLL dd, y")," -"," ",(0,c.A)(x.to,"LLL dd, y")]}):(0,c.A)(x.from,"LLL dd, y"):(0,i.jsx)("span",{children:"Pick a date"})]})}),(0,i.jsx)(f.hl,{className:"w-auto p-0",align:"start",children:(0,i.jsx)(h.V,{initialFocus:!0,mode:"range",defaultMonth:null===x||void 0===x?void 0:x.from,selected:x,onSelect:e=>{console.log(e);const a=(0,m.Y)(e.from),t=(0,m.Y)(e.to);let l="".concat(a[3],"-01-").concat(a[2]),s="".concat(t[3],"-01-").concat(t[2]);d.includes("day")&&(l="".concat(a[3],"-").concat(a[0],"-").concat(a[2]),s="".concat(t[3],"-").concat(t[0],"-").concat(t[2])),g(e),console.log(a,t),n("fromDate",l),n("toDate",s),N(!1)},numberOfMonths:1})})]})})}var g=t(2467),j=t(3003),N=t(1438),y=t(4955);const w=(0,j.Ng)((function(e){return{userData:e.LoginReducer,companyData:e.CompanyReducer}}),(function(e){return{getallParttime:a=>e((0,y.i5)(a))}}))((e=>{var a;console.log(e);const[t,s]=(0,l.useState)(!1),r=(0,l.useRef)();return(0,i.jsxs)(n.lG,{open:t,onOpenChange:a=>{a?function(){var a,t;const l={userId:null===e||void 0===e||null===(a=e.userData)||void 0===a||null===(t=a.loginData)||void 0===t?void 0:t.user_id};e.getallParttime(l),s(!0)}():function(){var e;s(!1),null===(e=r.current)||void 0===e||e.focus()}()},children:[(0,i.jsx)(n.zM,{asChild:!0,children:(0,i.jsxs)(v.$,{size:"sm",className:"h-8 gap-1",children:[(0,i.jsx)(o.A,{className:"h-3.5 w-3.5"}),(0,i.jsx)("span",{className:"sm:not-sr-only sm:whitespace-nowrap",children:"Filter"})]})}),(0,i.jsxs)(n.Cf,{className:"sm:max-w-[425px]",children:[(0,i.jsxs)(n.c7,{children:[(0,i.jsx)(n.L3,{children:"Filter Shifts"}),(0,i.jsx)(n.rr,{children:"Select company and dates to proceed."})]}),(null===e||void 0===e||null===(a=e.companyData)||void 0===a?void 0:a.isparttimeListFetched)&&(0,i.jsx)(d.l1,{initialValues:{companyID:"",location:"",fromDate:"",toDate:""},onSubmit:async(a,t)=>{let{setFieldValue:l,setSubmitting:s,resetForm:i}=t;try{null===e||void 0===e||e.handleFilter(a),s(!1),i()}catch(n){console.error(n),s(!1)}},children:a=>{var t,l;let{values:s,setFieldValue:o,touched:r,errors:c}=a;return console.log(s),(0,i.jsxs)(d.lV,{children:[(0,i.jsxs)("div",{className:"grid gap-6 py-4",children:[(0,i.jsxs)("div",{className:"grid gap-3",children:[(0,i.jsx)(N.J,{children:"Company Name"}),(0,i.jsx)(d.D0,{label:"Company Name",setFormikFieldvalue:o,options:null===e||void 0===e||null===(t=e.companyData)||void 0===t||null===(l=t.parttimeList)||void 0===l?void 0:l.data,placeholder:"Select Company",required:!0,name:"companyID",value:"".concat(s.companyID),component:g.m})]}),(0,i.jsxs)("div",{className:"grid gap-3",children:[(0,i.jsx)(N.J,{children:"Dates"}),(0,i.jsx)(d.D0,{label:"Dates",setFormikFieldvalue:o,required:!0,component:x})]})]}),(0,i.jsxs)(n.Es,{children:[(0,i.jsx)(n.HM,{asChild:!0,children:(0,i.jsx)(v.$,{type:"submit",variant:"secondary",children:"Close"})}),(0,i.jsx)(v.$,{type:"button",onClick:()=>e.handleFilter(s),children:"Filter"})]})]})}})]})]})}));var b=t(2610);const D=b.bL,S=b.l9,C=b.ZL,P=l.forwardRef(((e,a)=>{let{className:t,...l}=e;return(0,i.jsx)(b.hJ,{className:(0,p.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...l,ref:a})}));P.displayName=b.hJ.displayName;const A=l.forwardRef(((e,a)=>{let{className:t,...l}=e;return(0,i.jsxs)(C,{children:[(0,i.jsx)(P,{}),(0,i.jsx)(b.UC,{ref:a,className:(0,p.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...l})]})}));A.displayName=b.UC.displayName;const _=e=>{let{className:a,...t}=e;return(0,i.jsx)("div",{className:(0,p.cn)("flex flex-col space-y-2 text-center sm:text-left",a),...t})};_.displayName="AlertDialogHeader";const F=e=>{let{className:a,...t}=e;return(0,i.jsx)("div",{className:(0,p.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",a),...t})};F.displayName="AlertDialogFooter";const L=l.forwardRef(((e,a)=>{let{className:t,...l}=e;return(0,i.jsx)(b.hE,{ref:a,className:(0,p.cn)("text-lg font-semibold",t),...l})}));L.displayName=b.hE.displayName;const R=l.forwardRef(((e,a)=>{let{className:t,...l}=e;return(0,i.jsx)(b.VY,{ref:a,className:(0,p.cn)("text-sm text-muted-foreground",t),...l})}));R.displayName=b.VY.displayName;const k=l.forwardRef(((e,a)=>{let{className:t,...l}=e;return(0,i.jsx)(b.rc,{ref:a,className:(0,p.cn)((0,v.r)(),t),...l})}));k.displayName=b.rc.displayName;const I=l.forwardRef(((e,a)=>{let{className:t,...l}=e;return(0,i.jsx)(b.ZD,{ref:a,className:(0,p.cn)((0,v.r)({variant:"outline"}),"mt-2 sm:mt-0",t),...l})}));I.displayName=b.ZD.displayName;var z=t(9448),T=t(5878),E=t(3002),$=t(3356),H=t(9463),M=t(8326),V=t(7991),W=t(781),B=t(5379),G=t(4526),U=t(2264),Y=t(2622),J=t(9822);const O=(e,a)=>{function t(e){const[a,t]=e.split(":").map(Number),l=a>=12?"PM":"AM";return"".concat((a%12||12).toString().padStart(2,"0"),":").concat(t.toString().padStart(2,"0")," ").concat(l)}const l=t(e),s=t(a);return"".concat(l," - ").concat(s)},Z=e=>{const a=e.split("T")[0],[t,l,s]=a.split("-");return"".concat(l,"-").concat(s,"-").concat(t)},q=e=>{var a,t,s,o,d,r,c,u,m,p,h,f,x,g;const[j,N]=(0,l.useState)({companyID:"",location:"",fromDate:"",toDate:""}),[y,b]=(0,l.useState)(!1),[C,P]=(0,l.useState)(!1),q=(0,l.useRef)(),[X,Q]=(0,l.useState)(null);function K(a){e.initiateEdit(),Q(a),b(!0)}const ee=function(){const[e,a]=(0,l.useState)(!1),t=(0,l.useRef)();function s(){a(!0)}function i(){var e;a(!1),null===(e=t.current)||void 0===e||e.focus()}return{triggerProps:{ref:t,onClick:s},dialogProps:{open:e,onOpenChange:e=>{e?s():i()}},trigger:s,dismiss:i}}(),ae=a=>{e.handleUpdate(a)},te={id:null!==X&&void 0!==X&&X._id?null===X||void 0===X?void 0:X._id:"",companyID:null!==X&&void 0!==X&&X.parttime_id?null===X||void 0===X||null===(a=X.parttime_id)||void 0===a?void 0:a._id:"",location:null!==X&&void 0!==X&&X.location?null===X||void 0===X?void 0:X.location:"",shiftDate:null!==X&&void 0!==X&&X.date?null===X||void 0===X?void 0:X.date:"",startTime:null!==X&&void 0!==X&&X.start_time?null===X||void 0===X?void 0:X.start_time:"",endTime:null!==X&&void 0!==X&&X.end_time?null===X||void 0===X?void 0:X.end_time:""};return(0,i.jsx)("main",{className:"grid flex-1 items-start gap-4 p-4 sm:px-6 sm:py-0 md:gap-8",children:(0,i.jsxs)(Y.tU,{defaultValue:"all",children:[(0,i.jsx)("div",{className:"flex items-center",children:(0,i.jsxs)("div",{className:"ml-auto flex items-center gap-2",children:[(0,i.jsx)(w,{handleFilter:a=>{console.log(a),null===e||void 0===e||e.handleFilter(a)}}),(0,i.jsxs)(D,{open:C,onOpenChange:(a,t)=>{console.log(t),a&&function(){if(""!==e.filterState.companyID||""!==e.filterState.fromDate){let a=e.filterState;a.companyFilter=!0,null===e||void 0===e||e.handleDownload(a)}else P(!0)}()},children:[(0,i.jsx)(S,{asChild:!0,children:(0,i.jsxs)(v.$,{size:"sm",className:"h-8 gap-1",variant:"outline",children:[" ",(0,i.jsx)(E.A,{className:"h-3.5 w-3.5"}),(0,i.jsx)("span",{className:"sm:not-sr-only sm:whitespace-nowrap",children:"Export"})]})}),(0,i.jsxs)(A,{children:[(0,i.jsxs)(_,{children:[(0,i.jsx)(L,{children:"Are you absolutely sure?"}),(0,i.jsx)(R,{children:"It is recommended to select atleast one Company and the From and To dates. Else only first 10 Shifts will be printed."})]}),(0,i.jsxs)(F,{children:[(0,i.jsx)(I,{onClick:()=>{P(!1)},children:"Cancel"}),(0,i.jsx)(k,{onClick:()=>function(){P(!1);let a=j;a.companyFilter=!1,null===e||void 0===e||e.handleDownload(a)}(),children:"Continue"})]})]})]}),(0,i.jsxs)(v.$,{size:"sm",className:"h-8 gap-1",onClick:()=>e.navigate("/addshift"),children:[(0,i.jsx)(W.A,{className:"h-3.5 w-3.5"}),(0,i.jsx)("span",{className:"sm:not-sr-only sm:whitespace-nowrap",children:"Add Shift"})]})]})}),(0,i.jsx)(Y.av,{value:"all",children:(0,i.jsxs)(z.Zp,{"x-chunk":"dashboard-06-chunk-0",children:[(0,i.jsx)(z.Wu,{children:(0,i.jsxs)(U.XI,{children:[(0,i.jsx)(U.A0,{children:(0,i.jsxs)(U.Hj,{children:[(0,i.jsx)(U.nd,{className:" sm:table-cell",children:"S.No. "}),(0,i.jsx)(U.nd,{className:" sm:table-cell",children:"Company Name"}),(0,i.jsx)(U.nd,{className:" sm:table-cell",children:"Location"}),(0,i.jsx)(U.nd,{className:" sm:table-cell",children:"Date"}),(0,i.jsx)(U.nd,{className:" sm:table-cell",children:"Start - End Time"}),(0,i.jsx)(U.nd,{children:"Shift Hours"}),(0,i.jsx)(U.nd,{children:"Actions"})]})}),(0,i.jsx)(U.BF,{children:null===e||void 0===e||null===(t=e.ShiftData)||void 0===t||null===(s=t.shiftList)||void 0===s||null===(o=s.shifts)||void 0===o?void 0:o.map(((a,t)=>{var l,s,o,d;return(0,i.jsxs)(U.Hj,{children:[(0,i.jsx)(U.nA,{className:" sm:table-cell",children:t+1}),(0,i.jsx)(U.nA,{className:" sm:table-cell",children:null===a||void 0===a?void 0:a.part_time_name}),(0,i.jsx)(U.nA,{className:"font-medium",children:null===a||void 0===a?void 0:a.location}),(0,i.jsx)(U.nA,{className:" sm:table-cell",children:Z(null===a||void 0===a?void 0:a.date)}),(0,i.jsx)(U.nA,{className:" sm:table-cell",children:O(null===a||void 0===a?void 0:a.start_time,null===a||void 0===a?void 0:a.end_time)}),(0,i.jsx)(U.nA,{className:" sm:table-cell",children:null===a||void 0===a||null===(l=a.shift_hours)||void 0===l?void 0:l.toFixed(2)}),(0,i.jsx)(U.nA,{children:(0,i.jsxs)(T.rI,{children:[(0,i.jsx)(T.ty,{asChild:!0,children:(0,i.jsxs)(v.$,{"aria-haspopup":"true",size:"icon",variant:"ghost",children:[(0,i.jsx)(B.A,{className:"h-4 w-4"}),(0,i.jsx)("span",{className:"sr-only",children:"Toggle menu"})]})}),(0,i.jsxs)(T.SQ,{align:"end",children:[(0,i.jsx)(T.lp,{children:"Actions"}),(0,i.jsx)(T._2,{ref:q,onClick:()=>K(a),children:"Edit"}),(0,i.jsx)(T._2,{...ee.triggerProps,children:"Delete"})]})]})}),(0,i.jsx)(n.lG,{open:y,onOpenChange:e=>{e?K():function(){var e;b(!1),null===(e=q.current)||void 0===e||e.focus()}()},children:(0,i.jsx)(n.Cf,{className:"sm:max-w-[425px]",children:(null===e||void 0===e||null===(s=e.companyData)||void 0===s?void 0:s.isparttimeListFetched)&&(0,i.jsx)(J.A,{companies:null===e||void 0===e||null===(o=e.companyData)||void 0===o||null===(d=o.parttimeList)||void 0===d?void 0:d.data,handleSubmit:ae,initialState:te,label:"Update Shift"})})}),(0,i.jsx)(n.lG,{...ee.dialogProps,children:(0,i.jsxs)(n.Cf,{className:"sm:max-w-[425px]",children:[(0,i.jsxs)(n.c7,{children:[(0,i.jsx)(n.L3,{children:"Delete Shift"}),(0,i.jsx)(n.rr,{children:"Are you sure you want to delete this shift?"})]}),(0,i.jsxs)(n.Es,{children:[(0,i.jsx)(n.HM,{asChild:!0,children:(0,i.jsx)(v.$,{type:"button",variant:"secondary",children:"Cancel"})}),(0,i.jsx)(v.$,{onClick:()=>(a=>{e.handleDelete(a),ee.dismiss()})(a),type:"submit",children:"Yes, Delete"})]})]})})]})}))})]})}),(0,i.jsx)(z.wL,{children:(0,i.jsx)("div",{className:"flex items-center justify-between px-2",children:(0,i.jsxs)("div",{className:"flex items-center space-x-6 lg:space-x-8",children:[(0,i.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,i.jsx)("p",{className:"text-sm font-medium",children:"Rows per page"}),(0,i.jsxs)(G.l6,{value:"".concat(null===e||void 0===e||null===(d=e.state)||void 0===d?void 0:d.rowsperpage),onValueChange:a=>{e.handleChangeRowsPerPage(Number(a))},children:[(0,i.jsx)(G.bq,{className:"h-8 w-[70px]",children:(0,i.jsx)(G.yv,{placeholder:null===e||void 0===e||null===(r=e.state)||void 0===r?void 0:r.rowsperpage})}),(0,i.jsx)(G.gC,{side:"top",children:[5,10,20,30,40,50].map((e=>(0,i.jsx)(G.eb,{value:"".concat(e),children:e},e)))})]})]}),(0,i.jsxs)("div",{className:"flex w-[100px] items-center justify-center text-sm font-medium",children:["Page ",(null===e||void 0===e||null===(c=e.state)||void 0===c?void 0:c.page)+1," of"," ",Math.ceil((null===e||void 0===e||null===(u=e.ShiftData)||void 0===u||null===(m=u.shiftList)||void 0===m?void 0:m.count)/(null===e||void 0===e||null===(p=e.state)||void 0===p?void 0:p.rowsperpage))]}),(0,i.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,i.jsxs)(v.$,{variant:"outline",className:"hidden h-8 w-8 p-0 lg:flex",onClick:()=>e.handleFirstPage(),disabled:!(null!==e&&void 0!==e&&null!==(h=e.state)&&void 0!==h&&h.previousPage),children:[(0,i.jsx)("span",{className:"sr-only",children:"Go to first page"}),(0,i.jsx)($.A,{className:"h-4 w-4"})]}),(0,i.jsxs)(v.$,{variant:"outline",className:"h-8 w-8 p-0",onClick:()=>e.handlePrevPage(),disabled:!(null!==e&&void 0!==e&&null!==(f=e.state)&&void 0!==f&&f.previousPage),children:[(0,i.jsx)("span",{className:"sr-only",children:"Go to previous page"}),(0,i.jsx)(H.A,{className:"h-4 w-4"})]}),(0,i.jsxs)(v.$,{variant:"outline",className:"h-8 w-8 p-0",onClick:()=>e.handleNextPage(),disabled:!(null!==e&&void 0!==e&&null!==(x=e.state)&&void 0!==x&&x.nextPage),children:[(0,i.jsx)("span",{className:"sr-only",children:"Go to next page"}),(0,i.jsx)(M.A,{className:"h-4 w-4"})]}),(0,i.jsxs)(v.$,{variant:"outline",className:"hidden h-8 w-8 p-0 lg:flex",onClick:()=>e.handleLastPage(),disabled:!(null!==e&&void 0!==e&&null!==(g=e.state)&&void 0!==g&&g.nextPage),children:[(0,i.jsx)("span",{className:"sr-only",children:"Go to last page"}),(0,i.jsx)(V.A,{className:"h-4 w-4"})]})]})]})})})]})})]})})};var X=t(3216),Q=t(4893),K=t(6987);const ee=(0,j.Ng)((function(e){return{userData:e.LoginReducer,companyData:e.CompanyReducer,ShiftData:e.ShiftReducer}}),(function(e){return{getallShifts:a=>e((0,Q.h$)(a)),getallParttime:a=>e((0,y.i5)(a)),downloadShifts:a=>e((0,Q.C_)(a)),updateShift:a=>e((0,Q.gV)(a)),deleteShift:a=>e((0,Q.yL)(a))}}))((e=>{var a;const t=(0,X.Zp)(),{enqueueSnackbar:s}=(0,K.dh)(),[n,o]=(0,l.useState)({rowsperpage:10,page:0,previousPage:!1,nextPage:!0}),[d,r]=(0,l.useState)({});console.log(d);return(0,l.useEffect)((()=>{(()=>{var a,t;const l={userId:null===e||void 0===e||null===(a=e.userData)||void 0===a||null===(t=a.loginData)||void 0===t?void 0:t.user_id,limit:null===n||void 0===n?void 0:n.rowsperpage,page:parseInt(null===n||void 0===n?void 0:n.page,10)+1};e.getallShifts(l)})()}),[n]),(null===e||void 0===e||null===(a=e.ShiftData)||void 0===a?void 0:a.isshiftListFetched)&&(0,i.jsx)(q,{navigate:t,ShiftData:null===e||void 0===e?void 0:e.ShiftData,filterState:d,companyData:null===e||void 0===e?void 0:e.companyData,handlePrevPage:e=>{if(n.page>0){const e=n.page-1,a=e>0,t=!0;o({...n,page:e,previousPage:a,nextPage:t})}},handleFirstPage:()=>{o({...n,page:0,previousPage:!1,nextPage:!0})},handleNextPage:a=>{var t,l;const s=(null===e||void 0===e||null===(t=e.ShiftData)||void 0===t||null===(l=t.shiftList)||void 0===l?void 0:l.count)||0,i=Math.ceil(s/n.rowsperpage);if(n.page<i-1){const e=n.page+1,a=!0,t=e<i-1;o({...n,page:e,previousPage:a,nextPage:t})}},getCanPreviousPage:()=>0!==(null===n||void 0===n?void 0:n.page),handleLastPage:()=>{var a,t;const l=(null===e||void 0===e||null===(a=e.ShiftData)||void 0===a||null===(t=a.shiftList)||void 0===t?void 0:t.count)||0,s=Math.ceil(l/n.rowsperpage)-1;o({...n,page:s,previousPage:s>0,nextPage:!1})},state:n,handleChangeRowsPerPage:e=>{o({...n,rowsperpage:e,page:0})},handleDownload:async a=>{try{var t,l;const s={userId:null===e||void 0===e||null===(t=e.userData)||void 0===t||null===(l=t.loginData)||void 0===l?void 0:l.user_id,limit:null===n||void 0===n?void 0:n.rowsperpage,page:parseInt(null===n||void 0===n?void 0:n.page,10)+1,parttime_id:null===a||void 0===a?void 0:a.parttime_id,fromDate:null===a||void 0===a?void 0:a.fromDate,toDate:null===a||void 0===a?void 0:a.toDate,companyFilter:null===a||void 0===a?void 0:a.companyFilter};console.log(s),await e.downloadShifts(s)}catch(s){console.log(s)}},handleUpdate:async a=>{try{if(await e.updateShift(a),s("Shift updated Successfully",{variant:"success"}),null!==d&&void 0!==d&&d.parttime_id||null!==d&&void 0!==d&&d.fromDate||null!==d&&void 0!==d&&d.toDate){var t,l;const a={userId:null===e||void 0===e||null===(t=e.userData)||void 0===t||null===(l=t.loginData)||void 0===l?void 0:l.user_id,limit:null===n||void 0===n?void 0:n.rowsperpage,page:parseInt(null===n||void 0===n?void 0:n.page,10)+1,parttime_id:null===d||void 0===d?void 0:d.parttime_id,fromDate:null===d||void 0===d?void 0:d.fromDate,toDate:null===d||void 0===d?void 0:d.toDate};e.getallShifts(a)}else{var i,o;const a={userId:null===e||void 0===e||null===(i=e.userData)||void 0===i||null===(o=i.loginData)||void 0===o?void 0:o.user_id,limit:null===n||void 0===n?void 0:n.rowsperpage,page:parseInt(null===n||void 0===n?void 0:n.page,10)+1};e.getallShifts(a)}}catch(r){console.log(r),s(r,{variant:"error"})}},handleFilter:a=>{var t,l;const s={userId:null===e||void 0===e||null===(t=e.userData)||void 0===t||null===(l=t.loginData)||void 0===l?void 0:l.user_id,limit:null===n||void 0===n?void 0:n.rowsperpage,page:parseInt(null===n||void 0===n?void 0:n.page,10)+1,parttime_id:null===a||void 0===a?void 0:a.companyID,fromDate:null===a||void 0===a?void 0:a.fromDate,toDate:null===a||void 0===a?void 0:a.toDate};r(s),e.getallShifts(s)},handleDelete:async a=>{try{if(await e.deleteShift(a),s("Shift deleted Successfully",{variant:"success"}),null!==d&&void 0!==d&&d.parttime_id||null!==d&&void 0!==d&&d.fromDate||null!==d&&void 0!==d&&d.toDate){var t,l;const a={userId:null===e||void 0===e||null===(t=e.userData)||void 0===t||null===(l=t.loginData)||void 0===l?void 0:l.user_id,limit:null===n||void 0===n?void 0:n.rowsperpage,page:parseInt(null===n||void 0===n?void 0:n.page,10)+1,parttime_id:null===d||void 0===d?void 0:d.parttime_id,fromDate:null===d||void 0===d?void 0:d.fromDate,toDate:null===d||void 0===d?void 0:d.toDate};e.getallShifts(a)}else{var i,o;const a={userId:null===e||void 0===e||null===(i=e.userData)||void 0===i||null===(o=i.loginData)||void 0===o?void 0:o.user_id,limit:null===n||void 0===n?void 0:n.rowsperpage,page:parseInt(null===n||void 0===n?void 0:n.page,10)+1};e.getallShifts(a)}}catch(r){console.log(r),s(r,{variant:"error"})}},initiateEdit:()=>{var a,t;const l={userId:null===e||void 0===e||null===(a=e.userData)||void 0===a||null===(t=a.loginData)||void 0===t?void 0:t.user_id};e.getallParttime(l)}})}))},477:()=>{}}]);
//# sourceMappingURL=179.ec69cf0d.chunk.js.map