"use strict";(self.webpackChunkptracker=self.webpackChunkptracker||[]).push([[617],{12898:function(e,r,t){t.d(r,{M:function(){return i}});var n=t(45987),a=(t(72791),t(27391)),s=t(80184),o=["form","field"],i=function(e){var r=e.form,t=e.field,i=(0,n.Z)(e,o),c=t.name,u=t.value,l=void 0===u?"":u,d=r.handleChange,p=r.handleBlur,f=i.label,m=i.required,v=i.multiline,h=i.placeholder,w=i.type,x=i.size,Z=void 0===x?"small":x,y=i.fullWidth,g=void 0===y||y,b=i.helperText,P=i.error,j=i.className,k=i.disabled,S=i.inputProps;return(0,s.jsx)(a.Z,{id:c,name:c,value:l,label:f,error:!!P,className:j,helperText:P||b,required:m,multiline:v,rows:v&&3,placeholder:h,type:w,fullWidth:g,size:Z,disabled:k,variant:"outlined",onChange:d,onBlur:p,InputProps:S})}},60617:function(e,r,t){t.r(r),t.d(r,{default:function(){return k}});var n=t(74165),a=t(15861),s=t(29439),o=t(72791),i=t(93044),c=t(36151),u=t(4708),l=t(61889),d=t(64554),p=t(30403),f=t(20890),m=t(89164),v=t(11087),h=t(55705),w=t(8007),x=t(12898),Z=t(80184),y=function(e){var r={email:"",otp:"",password:"",confirm_password:""},t=w.Ry().shape({password:w.Z_().required("New password is required"),confirm_password:w.Z_().oneOf([w.iH("password"),null],"Passwords must match").required("Confirm password is required")});return(0,Z.jsxs)(m.Z,{component:"main",maxWidth:"xs",children:[(0,Z.jsx)(u.ZP,{}),(0,Z.jsxs)(d.Z,{sx:{marginTop:8,display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,Z.jsx)(i.Z,{sx:{m:1,bgcolor:"secondary.main"},children:(0,Z.jsx)(p.Z,{})}),(0,Z.jsx)(f.Z,{component:"h1",variant:"h5",children:"Forget Password"}),1===e.step&&(0,Z.jsx)(h.J9,{initialValues:r,onSubmit:function(r,t){t.setFieldValue;e.handleEmailSubmit(r)},children:function(e){var r=e.values;e.setFieldValue,e.touched,e.errors;return(0,Z.jsx)(h.l0,{children:(0,Z.jsxs)(l.ZP,{container:!0,spacing:2,mt:2,children:[(0,Z.jsx)(l.ZP,{item:!0,xs:12,children:(0,Z.jsx)(h.gN,{name:"email",value:"".concat(r.email),label:"Email/Username",placeholder:"enter Email/Username",required:!0,component:x.M,autoComplete:"email",fullWidth:!0})}),(0,Z.jsx)(l.ZP,{item:!0,xs:12,md:12,children:(0,Z.jsx)(c.Z,{type:"submit",fullWidth:!0,variant:"contained",sx:{mb:2},children:"Send OTP"})}),(0,Z.jsxs)(l.ZP,{container:!0,children:[(0,Z.jsx)(l.ZP,{item:!0,xs:!0}),(0,Z.jsx)(l.ZP,{item:!0,children:(0,Z.jsx)(v.rU,{to:"/login",variant:"body2",children:"Remeber password? Sign In"})})]})]})})}}),2===e.step&&(0,Z.jsx)(h.J9,{initialValues:r,validationSchema:t,onSubmit:function(){var r=(0,a.Z)((0,n.Z)().mark((function r(a,s){var o,i;return(0,n.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return s.setFieldValue,o=a.password,i=a.confirm_password,r.next=4,t.validate({password:o,confirm_password:i});case 4:e.handleOtpSubmit(a);case 5:case"end":return r.stop()}}),r)})));return function(e,t){return r.apply(this,arguments)}}(),children:function(e){var r=e.values;e.setFieldValue,e.touched,e.errors;return(0,Z.jsx)(h.l0,{children:(0,Z.jsxs)(l.ZP,{container:!0,spacing:2,mt:2,children:[(0,Z.jsx)(l.ZP,{item:!0,xs:12,children:(0,Z.jsx)(h.gN,{name:"otp",value:"".concat(r.otp),label:"OTP",placeholder:"enter OTP",required:!0,type:"password",component:x.M,autoComplete:"otp",fullWidth:!0})}),(0,Z.jsx)(l.ZP,{item:!0,xs:12,children:(0,Z.jsx)(h.gN,{name:"password",value:"".concat(r.password),label:"New Password",placeholder:"enter New Password",required:!0,type:"password",component:x.M,autoComplete:"password",fullWidth:!0})}),(0,Z.jsx)(l.ZP,{item:!0,xs:12,children:(0,Z.jsx)(h.gN,{name:"confirm_password",value:"".concat(r.confirm_password),label:"Confirm Password",placeholder:"enter Confirm Password",type:"password",required:!0,component:x.M,autoComplete:"password",fullWidth:!0})}),(0,Z.jsx)(l.ZP,{item:!0,xs:12,md:12,children:(0,Z.jsx)(c.Z,{type:"submit",fullWidth:!0,variant:"contained",sx:{mb:2},children:"Update Password"})})]})})}})]})]})},g=t(78687),b=t(57689),P=t(24489),j=t(35552);var k=(0,g.$j)((function(e){return{userData:e.LoginReducer}}),(function(e){return{initiateResetPassword:function(r){return e((0,P.E4)(r))},verifyOtpAndResetPassword:function(r){return e((0,P.Rs)(r))}}}))((function(e){var r=(0,b.s0)(),t=(0,o.useState)(1),i=(0,s.Z)(t,2),c=i[0],u=i[1],l=(0,j.Ds)().enqueueSnackbar,d=function(){var r=(0,a.Z)((0,n.Z)().mark((function r(t){return(0,n.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(null==t){r.next=13;break}return r.prev=1,r.next=4,e.initiateResetPassword(t);case 4:localStorage.setItem("email",JSON.stringify(t.email)),l("OTP sent",{variant:"success"}),u(2),r.next=13;break;case 9:r.prev=9,r.t0=r.catch(1),console.log(r.t0),l(r.t0,{variant:"error"});case 13:case"end":return r.stop()}}),r,null,[[1,9]])})));return function(e){return r.apply(this,arguments)}}(),p=function(){var t=(0,a.Z)((0,n.Z)().mark((function t(a){var s,o;return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null==a){t.next=15;break}return t.prev=1,s=JSON.parse(localStorage.getItem("email")),o={email:s,otp:a.otp,newPassword:a.password},t.next=6,e.verifyOtpAndResetPassword(o);case 6:localStorage.removeItem("email"),l("Password Changed Successfully",{variant:"success"}),r("/login"),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(1),console.log(t.t0),l(t.t0,{variant:"error"});case 15:case"end":return t.stop()}}),t,null,[[1,11]])})));return function(e){return t.apply(this,arguments)}}();return(0,Z.jsx)(y,{userData:e.userData,step:c,handleEmailSubmit:d,handleOtpSubmit:p})}))},24489:function(e,r,t){t.d(r,{So:function(){return c},E4:function(){return u},a$:function(){return d},Rp:function(){return p},Rs:function(){return l}});var n=t(74165),a=t(15861),s=t(83708),o=t(31243),i={signUp:function(e){if(void 0!==e){var r=s.yN+"/api/user/signup";return o.Z.post(r,e)}},signIn:function(e){if(void 0!==e){var r=s.yN+"/api/user/signin";return o.Z.post(r,e)}},initiateResetPassword:function(e){if(void 0!==e){var r=s.yN+"/api/user/initiate-reset-password";return o.Z.post(r,e)}},verifyOtpAndResetPassword:function(e){if(void 0!==e){var r=s.yN+"/api/user/verify-otp-reset-password";return o.Z.post(r,e)}}};function c(e){return function(){var r=(0,a.Z)((0,n.Z)().mark((function r(t){var a;return(0,n.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t({type:s.AR}),r.prev=1,r.next=4,i.signIn(e);case 4:return a=r.sent,t({type:s.kP,payload:a.data}),r.abrupt("return",a.data);case 9:throw r.prev=9,r.t0=r.catch(1),t({type:s.ky,payload:r.t0.message}),r.t0;case 13:case"end":return r.stop()}}),r,null,[[1,9]])})));return function(e){return r.apply(this,arguments)}}()}function u(e){return function(){var r=(0,a.Z)((0,n.Z)().mark((function r(t){var a;return(0,n.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t({type:s.AR}),r.prev=1,r.next=4,i.initiateResetPassword(e);case 4:return a=r.sent,t({type:s.kP,payload:a.data}),r.abrupt("return",a.data);case 9:throw r.prev=9,r.t0=r.catch(1),t({type:s.ky,payload:r.t0.message}),r.t0;case 13:case"end":return r.stop()}}),r,null,[[1,9]])})));return function(e){return r.apply(this,arguments)}}()}function l(e){return function(){var r=(0,a.Z)((0,n.Z)().mark((function r(t){var a;return(0,n.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t({type:s.AR}),r.prev=1,r.next=4,i.verifyOtpAndResetPassword(e);case 4:return a=r.sent,t({type:s.kP,payload:a.data}),r.abrupt("return",a.data);case 9:throw r.prev=9,r.t0=r.catch(1),t({type:s.ky,payload:r.t0.message}),r.t0;case 13:case"end":return r.stop()}}),r,null,[[1,9]])})));return function(e){return r.apply(this,arguments)}}()}function d(e){return function(){var r=(0,a.Z)((0,n.Z)().mark((function r(t){var a;return(0,n.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t({type:s.jE}),r.prev=1,r.next=4,i.signUp(e);case 4:return a=r.sent,t({type:s.DT,payload:a.data}),r.abrupt("return",a.data);case 9:throw r.prev=9,r.t0=r.catch(1),t({type:s.Zf,payload:r.t0.message}),r.t0;case 13:case"end":return r.stop()}}),r,null,[[1,9]])})));return function(e){return r.apply(this,arguments)}}()}function p(e){return{type:s.m4,payload:i.validateToken(e).then((function(e){return e.data}))}}},30403:function(e,r,t){var n=t(64836);r.Z=void 0;var a=n(t(45649)),s=t(80184),o=(0,a.default)((0,s.jsx)("path",{d:"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zM9 6c0-1.66 1.34-3 3-3s3 1.34 3 3v2H9V6zm9 14H6V10h12v10zm-6-3c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2z"}),"LockOutlined");r.Z=o},93044:function(e,r,t){t.d(r,{Z:function(){return g}});var n=t(29439),a=t(63366),s=t(87462),o=t(72791),i=t(63733),c=t(94419),u=t(66934),l=t(31402),d=t(76189),p=t(80184),f=(0,d.Z)((0,p.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person"),m=t(75878),v=t(21217);function h(e){return(0,v.Z)("MuiAvatar",e)}(0,m.Z)("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);var w=["alt","children","className","component","imgProps","sizes","src","srcSet","variant"],x=(0,u.ZP)("div",{name:"MuiAvatar",slot:"Root",overridesResolver:function(e,r){var t=e.ownerState;return[r.root,r[t.variant],t.colorDefault&&r.colorDefault]}})((function(e){var r=e.theme,t=e.ownerState;return(0,s.Z)({position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:r.typography.fontFamily,fontSize:r.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none"},"rounded"===t.variant&&{borderRadius:(r.vars||r).shape.borderRadius},"square"===t.variant&&{borderRadius:0},t.colorDefault&&(0,s.Z)({color:(r.vars||r).palette.background.default},r.vars?{backgroundColor:r.vars.palette.Avatar.defaultBg}:{backgroundColor:"light"===r.palette.mode?r.palette.grey[400]:r.palette.grey[600]}))})),Z=(0,u.ZP)("img",{name:"MuiAvatar",slot:"Img",overridesResolver:function(e,r){return r.img}})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),y=(0,u.ZP)(f,{name:"MuiAvatar",slot:"Fallback",overridesResolver:function(e,r){return r.fallback}})({width:"75%",height:"75%"});var g=o.forwardRef((function(e,r){var t=(0,l.Z)({props:e,name:"MuiAvatar"}),u=t.alt,d=t.children,f=t.className,m=t.component,v=void 0===m?"div":m,g=t.imgProps,b=t.sizes,P=t.src,j=t.srcSet,k=t.variant,S=void 0===k?"circular":k,R=(0,a.Z)(t,w),N=null,O=function(e){var r=e.crossOrigin,t=e.referrerPolicy,a=e.src,s=e.srcSet,i=o.useState(!1),c=(0,n.Z)(i,2),u=c[0],l=c[1];return o.useEffect((function(){if(a||s){l(!1);var e=!0,n=new Image;return n.onload=function(){e&&l("loaded")},n.onerror=function(){e&&l("error")},n.crossOrigin=r,n.referrerPolicy=t,n.src=a,s&&(n.srcset=s),function(){e=!1}}}),[r,t,a,s]),u}((0,s.Z)({},g,{src:P,srcSet:j})),A=P||j,C=A&&"error"!==O,M=(0,s.Z)({},t,{colorDefault:!C,component:v,variant:S}),q=function(e){var r=e.classes,t={root:["root",e.variant,e.colorDefault&&"colorDefault"],img:["img"],fallback:["fallback"]};return(0,c.Z)(t,h,r)}(M);return N=C?(0,p.jsx)(Z,(0,s.Z)({alt:u,src:P,srcSet:j,sizes:b,ownerState:M,className:q.img},g)):null!=d?d:A&&u?u[0]:(0,p.jsx)(y,{ownerState:M,className:q.fallback}),(0,p.jsx)(x,(0,s.Z)({as:v,ownerState:M,className:(0,i.Z)(q.root,f),ref:r},R,{children:N}))}))}}]);
//# sourceMappingURL=617.2be69f6f.chunk.js.map